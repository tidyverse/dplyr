<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='This function allows you to vectorise multiple switch() statements. Each
case is evaluated sequentially and the first match for each element
determines the corresponding value in the output vector. If no cases match,
the .default is used.
case_match() is an R equivalent of the SQL "simple" CASE WHEN statement.
Connection to case_when()


While case_when() uses logical expressions on the left-hand side of the
formula, case_match() uses values to match against .x with. The following
two statements are roughly equivalent:
case_when(
  x %in% c("a", "b") ~ 1,
  x %in% "c" ~ 2,
  x %in% c("d", "e") ~ 3
)

case_match(
  x,
  c("a", "b") ~ 1,
  "c" ~ 2,
  c("d", "e") ~ 3
)


'><title>A general vectorised switch() — case_match • dplyr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.7/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A general vectorised switch() — case_match"><meta property="og:description" content='This function allows you to vectorise multiple switch() statements. Each
case is evaluated sequentially and the first match for each element
determines the corresponding value in the output vector. If no cases match,
the .default is used.
case_match() is an R equivalent of the SQL "simple" CASE WHEN statement.
Connection to case_when()


While case_when() uses logical expressions on the left-hand side of the
formula, case_match() uses values to match against .x with. The following
two statements are roughly equivalent:
case_when(
  x %in% c("a", "b") ~ 1,
  x %in% "c" ~ 2,
  x %in% c("d", "e") ~ 3
)

case_match(
  x,
  c("a", "b") ~ 1,
  "c" ~ 2,
  c("d", "e") ~ 3
)


'><meta property="og:image" content="https://dplyr.tidyverse.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="dplyr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dplyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/dplyr.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/grouping.html">Grouped data</a>
    <a class="dropdown-item" href="../articles/two-table.html">Two-table verbs</a>
    <a class="dropdown-item" href="../articles/base.html">dplyr &lt;-&gt; base R</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Automation</h6>
    <a class="dropdown-item" href="../articles/colwise.html">Column-wise operations</a>
    <a class="dropdown-item" href="../articles/rowwise.html">Row-wise operations</a>
    <a class="dropdown-item" href="../articles/programming.html">Programming with dplyr</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/tags/dplyr-1-1-0/">Version 1.1.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/06/dplyr-1-0-0/">Version 1.0.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/07/dplyr-0-8-3/">Version 0.8.3</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/06/dplyr-0-8-2/">Version 0.8.2</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/05/dplyr-0-8-1/">Version 0.8.1</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/02/dplyr-0-8-0/">Version 0.8.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/06/dplyr-0.7.5/">Version 0.7.5</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidyverse/dplyr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>A general vectorised <code>switch()</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/dplyr/blob/HEAD/R/case-match.R" class="external-link"><code>R/case-match.R</code></a></small>
      <div class="d-none name"><code>case_match.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function allows you to vectorise multiple <code><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch()</a></code> statements. Each
case is evaluated sequentially and the first match for each element
determines the corresponding value in the output vector. If no cases match,
the <code>.default</code> is used.</p>
<p><code>case_match()</code> is an R equivalent of the SQL "simple" <code>CASE WHEN</code> statement.</p><div class="section">
<h3 id="connection-to-case-when-">Connection to <code><a href="case_when.html">case_when()</a></code><a class="anchor" aria-label="anchor" href="#connection-to-case-when-"></a></h3>


<p>While <code><a href="case_when.html">case_when()</a></code> uses logical expressions on the left-hand side of the
formula, <code>case_match()</code> uses values to match against <code>.x</code> with. The following
two statements are roughly equivalent:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">case_when</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">%in%</span> <span class="st">"c"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"d"</span>, <span class="st">"e"</span>) <span class="sc">~</span> <span class="dv">3</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">case_match</span>(</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  x,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>) <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"c"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"d"</span>, <span class="st">"e"</span>) <span class="sc">~</span> <span class="dv">3</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>)</span></code></pre><p></p></div>
</div>

    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">case_match</span><span class="op">(</span><span class="va">.x</span>, <span class="va">...</span>, .default <span class="op">=</span> <span class="cn">NULL</span>, .ptype <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.x</dt>
<dd><p>A vector to match against.</p></dd>


<dt>...</dt>
<dd><p>&lt;<code><a href="https://rlang.r-lib.org/reference/dyn-dots.html" class="external-link">dynamic-dots</a></code>&gt; A sequence of two-sided
formulas: <code>old_values ~ new_value</code>. The right hand side (RHS) determines
the output value for all values of <code>.x</code> that match the left hand side
(LHS).</p>
<p>The LHS must evaluate to the same type of vector as <code>.x</code>. It can be any
length, allowing you to map multiple <code>.x</code> values to the same RHS value.
If a value is repeated in the LHS, i.e. a value in <code>.x</code> matches to
multiple cases, the first match is used.</p>
<p>The RHS inputs will be coerced to their common type. Each RHS input will be
<a href="https://vctrs.r-lib.org/reference/vector_recycling_rules.html" class="external-link">recycled</a> to the size of <code>.x</code>.</p></dd>


<dt>.default</dt>
<dd><p>The value used when values in <code>.x</code> aren't matched by any of
the LHS inputs. If <code>NULL</code>, the default, a missing value will be used.</p>
<p><code>.default</code> is <a href="https://vctrs.r-lib.org/reference/vector_recycling_rules.html" class="external-link">recycled</a> to the size of
<code>.x</code>.</p></dd>


<dt>.ptype</dt>
<dd><p>An optional prototype declaring the desired output type. If
not supplied, the output type will be taken from the common type of
all RHS inputs and <code>.default</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A vector with the same size as <code>.x</code> and the same type as the common type of
the RHS inputs and <code>.default</code> (if not overridden by <code>.ptype</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="case_when.html">case_when()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"a"</span>, <span class="st">"d"</span>, <span class="st">"b"</span>, <span class="cn">NA</span>, <span class="st">"c"</span>, <span class="st">"e"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># `case_match()` acts like a vectorized `switch()`.</span></span></span>
<span class="r-in"><span><span class="co"># Unmatched values "fall through" as a missing value.</span></span></span>
<span class="r-in"><span><span class="fu">case_match</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span>,</span></span>
<span class="r-in"><span>  <span class="st">"a"</span> <span class="op">~</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="st">"b"</span> <span class="op">~</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  <span class="st">"c"</span> <span class="op">~</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  <span class="st">"d"</span> <span class="op">~</span> <span class="fl">4</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  1  2  1  4  2 NA  3 NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Missing values can be matched exactly, and `.default` can be used to</span></span></span>
<span class="r-in"><span><span class="co"># control the value used for unmatched values of `.x`</span></span></span>
<span class="r-in"><span><span class="fu">case_match</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span>,</span></span>
<span class="r-in"><span>  <span class="st">"a"</span> <span class="op">~</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="st">"b"</span> <span class="op">~</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  <span class="st">"c"</span> <span class="op">~</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  <span class="st">"d"</span> <span class="op">~</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  <span class="cn">NA</span> <span class="op">~</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  .default <span class="op">=</span> <span class="fl">100</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]   1   2   1   4   2   0   3 100</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Input values can be grouped into the same expression to map them to the</span></span></span>
<span class="r-in"><span><span class="co"># same output value</span></span></span>
<span class="r-in"><span><span class="fu">case_match</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"low"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"high"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "low"  "low"  "low"  "high" "low"  NA     "high" "high"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># `case_match()` isn't limited to character input:</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">case_match</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">y</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span> <span class="op">~</span> <span class="st">"odd"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span> <span class="op">~</span> <span class="st">"even"</span>,</span></span>
<span class="r-in"><span>  .default <span class="op">=</span> <span class="st">"missing"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "odd"     "even"    "odd"     "odd"     "odd"     "missing" "even"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8] "even"   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setting `.default` to the original vector is a useful way to replace</span></span></span>
<span class="r-in"><span><span class="co"># selected values, leaving everything else as is</span></span></span>
<span class="r-in"><span><span class="fu">case_match</span><span class="op">(</span><span class="va">y</span>, <span class="cn">NA</span> <span class="op">~</span> <span class="fl">0</span>, .default <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 1 3 1 0 2 4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">starwars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="mutate.html">mutate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="co"># Replace missings, but leave everything else alone</span></span></span>
<span class="r-in"><span>    hair_color <span class="op">=</span> <span class="fu">case_match</span><span class="op">(</span><span class="va">hair_color</span>, <span class="cn">NA</span> <span class="op">~</span> <span class="st">"unknown"</span>, .default <span class="op">=</span> <span class="va">hair_color</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="co"># Replace some, but not all, of the species</span></span></span>
<span class="r-in"><span>    species <span class="op">=</span> <span class="fu">case_match</span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="va">species</span>,</span></span>
<span class="r-in"><span>      <span class="st">"Human"</span> <span class="op">~</span> <span class="st">"Humanoid"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"Droid"</span> <span class="op">~</span> <span class="st">"Robot"</span>,</span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Wookiee"</span>, <span class="st">"Ewok"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Hairy"</span>,</span></span>
<span class="r-in"><span>      .default <span class="op">=</span> <span class="va">species</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    .keep <span class="op">=</span> <span class="st">"used"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 87 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    hair_color    species </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> blond         Humanoid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> unknown       Robot   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> unknown       Robot   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> none          Humanoid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> brown         Humanoid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> brown, grey   Humanoid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> brown         Humanoid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> unknown       Robot   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> black         Humanoid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> auburn, white Humanoid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 77 more rows</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/romainfrancois" class="external-link">Romain François</a>, <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://krlmlr.info" class="external-link">Kirill Müller</a>, <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

