<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create, modify, and delete columns — mutate • dplyr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Create, modify, and delete columns — mutate" />
<meta property="og:description" content="mutate() adds new variables and preserves existing ones;
transmute() adds new variables and drops existing ones.
New variables overwrite existing variables of the same name.
Variables can be removed by setting their value to NULL." />
<meta property="og:image" content="https://dplyr.tidyverse.org/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">dplyr</a>
        <div class="info">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.8.99.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/dplyr.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/two-table.html">Two-table verbs</a>
    </li>
    <li>
      <a href="../articles/window-functions.html">Window functions</a>
    </li>
    <li>
      <a href="http://dbplyr.tidyverse.org/articles/dbplyr.html">Databases with dbplyr</a>
    </li>
    <li>
      <a href="../articles/programming.html">Programming with dplyr</a>
    </li>
    <li>
      <a href="../articles/compatibility.html">Compatibility</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/10/dplyr-0-8-4/">Version 0.8.4</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/07/dplyr-0-8-3/">Version 0.8.3</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/06/dplyr-0-8-2/">Version 0.8.2</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/05/dplyr-0-8-1/">Version 0.8.1</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/02/dplyr-0-8-0/">Version 0.8.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/06/dplyr-0.7.5/">Version 0.7.5</a>
    </li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
        <li>
  <a href="https://github.com/tidyverse/dplyr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create, modify, and delete columns</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverse/dplyr/blob/master/R/mutate.R'><code>R/mutate.R</code></a></small>
    <div class="hidden name"><code>mutate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>mutate()</code> adds new variables and preserves existing ones;
<code>transmute()</code> adds new variables and drops existing ones.
New variables overwrite existing variables of the same name.
Variables can be removed by setting their value to <code>NULL</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>mutate</span>(<span class='no'>.data</span>, <span class='no'>...</span>)

<span class='fu'>transmute</span>(<span class='no'>.data</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>A data frame, data frame extension (e.g. a tibble), or a
lazy data frame (e.g. from dbplyr or dtplyr). See <em>Methods</em>, below, for
more details.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>&lt;<code><a href='dplyr_tidy_eval.html'>tidy-eval</a></code>&gt; Name-value pairs of expressions,
each with length 1 or the same length as the number of rows in the group
(if using <code><a href='group_by.html'>group_by()</a></code>) or in the entire input (if not using groups).
The name of each argument will be the name of a new variable, and the
value will be its corresponding value. Use a <code>NULL</code> value in <code>mutate</code>
to drop a variable.  New variables overwrite existing variables
of the same name.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of the same type as <code>.data</code>.</p>
<p>For <code>mutate()</code>:</p><ul>
<li><p>Rows are not affected.</p></li>
<li><p>Existing columns will be preserved unless explicitly modified.</p></li>
<li><p>New columns will be added to the right of existing columns.</p></li>
<li><p>Columns given value <code>NULL</code> will be removed</p></li>
<li><p>Groups will be recomputed if a grouping variable is mutated.</p></li>
<li><p>Data frame attributes are preserved.</p></li>
</ul>

<p>For <code>transmute()</code>:</p><ul>
<li><p>Rows are not affected.</p></li>
<li><p>Apart from grouping variables, existing columns will be remove unless
explicitly kept.</p></li>
<li><p>Column order matches order of expressions.</p></li>
<li><p>Groups will be recomputed if a grouping variable is mutated.</p></li>
<li><p>Data frame attributes are preserved.</p></li>
</ul>

    <h2 class="hasAnchor" id="useful-mutate-functions"><a class="anchor" href="#useful-mutate-functions"></a>Useful mutate functions</h2>

    

<ul>
<li><p><code><a href='https://rdrr.io/r/base/Arithmetic.html'>+</a></code>, <code><a href='https://rdrr.io/r/base/Arithmetic.html'>-</a></code>, <code><a href='https://rdrr.io/r/base/Log.html'>log()</a></code>, etc., for their usual mathematical meanings</p></li>
<li><p><code><a href='lead-lag.html'>lead()</a></code>, <code><a href='lead-lag.html'>lag()</a></code></p></li>
<li><p><code><a href='ranking.html'>dense_rank()</a></code>, <code><a href='ranking.html'>min_rank()</a></code>, <code><a href='ranking.html'>percent_rank()</a></code>, <code><a href='ranking.html'>row_number()</a></code>,
<code><a href='ranking.html'>cume_dist()</a></code>, <code><a href='ranking.html'>ntile()</a></code></p></li>
<li><p><code><a href='https://rdrr.io/r/base/cumsum.html'>cumsum()</a></code>, <code><a href='cumall.html'>cummean()</a></code>, <code><a href='https://rdrr.io/r/base/cumsum.html'>cummin()</a></code>, <code><a href='https://rdrr.io/r/base/cumsum.html'>cummax()</a></code>, <code><a href='cumall.html'>cumany()</a></code>, <code><a href='cumall.html'>cumall()</a></code></p></li>
<li><p><code><a href='na_if.html'>na_if()</a></code>, <code><a href='coalesce.html'>coalesce()</a></code></p></li>
<li><p><code><a href='if_else.html'>if_else()</a></code>, <code><a href='recode.html'>recode()</a></code>, <code><a href='case_when.html'>case_when()</a></code></p></li>
</ul>

    <h2 class="hasAnchor" id="grouped-tibbles"><a class="anchor" href="#grouped-tibbles"></a>Grouped tibbles</h2>

    


<p>Because mutating expressions are computed within groups, they may
yield different results on grouped tibbles. This will be the case
as soon as an aggregating, lagging, or ranking function is
involved. Compare this ungrouped mutate:</p><pre>starwars %&gt;%
  mutate(mass / mean(mass, na.rm = TRUE)) %&gt;%
  pull()
</pre>

<p>With the grouped equivalent:</p><pre>starwars %&gt;%
  group_by(gender) %&gt;%
  mutate(mass / mean(mass, na.rm = TRUE)) %&gt;%
  pull()
</pre>

<p>The former normalises <code>mass</code> by the global average whereas the
latter normalises by the averages within gender levels.</p>
    <h2 class="hasAnchor" id="scoped-mutation-and-transmutation"><a class="anchor" href="#scoped-mutation-and-transmutation"></a>Scoped mutation and transmutation</h2>

    


<p>The three <a href='scoped.html'>scoped</a> variants of <code>mutate()</code> (<code><a href='mutate_all.html'>mutate_all()</a></code>,
<code><a href='mutate_all.html'>mutate_if()</a></code> and <code><a href='mutate_all.html'>mutate_at()</a></code>) and the three variants of
<code>transmute()</code> (<code><a href='mutate_all.html'>transmute_all()</a></code>, <code><a href='mutate_all.html'>transmute_if()</a></code>,
<code><a href='mutate_all.html'>transmute_at()</a></code>) make it easy to apply a transformation to a
selection of variables.</p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    

<p>These function are <strong>generic</strong>s, which means that packages can provide
implementations (methods) for other classes. See the documentation of
individual methods for extra arguments and differences in behaviour.</p>
<p>Methods available in currently loaded packages:</p><ul>
<li><p><code>mutate()</code>: dbplyr (<code>tbl_lazy</code>), dplyr (<code>data.frame</code>, <code>default</code>)
.</p></li>
<li><p><code>transmute()</code>: dbplyr (<code>tbl_lazy</code>), dplyr (<code>data.frame</code>)
.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other single table verbs: 
<code><a href='arrange.html'>arrange</a>()</code>,
<code><a href='filter.html'>filter</a>()</code>,
<code><a href='rename.html'>rename</a>()</code>,
<code><a href='select.html'>select</a>()</code>,
<code><a href='slice.html'>slice</a>()</code>,
<code><a href='summarise.html'>summarise</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Newly created variables are available immediately</span>
<span class='no'>mtcars</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/as_tibble.html'>as_tibble</a></span>() <span class='kw'>%&gt;%</span> <span class='fu'>mutate</span>(
  <span class='kw'>cyl2</span> <span class='kw'>=</span> <span class='no'>cyl</span> * <span class='fl'>2</span>,
  <span class='kw'>cyl4</span> <span class='kw'>=</span> <span class='no'>cyl2</span> * <span class='fl'>2</span>
)</div><div class='output co'>#&gt; # A tibble: 32 x 13
#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb  cyl2  cyl4
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4    12    24
#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4    12    24
#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1     8    16
#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1    12    24
#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2    16    32
#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1    12    24
#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4    16    32
#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2     8    16
#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2     8    16
#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4    12    24
#&gt; # … with 22 more rows</div><div class='input'>
<span class='co'># As well as adding new variables, you can use mutate() to</span>
<span class='co'># remove variables and modify existing variables.</span>
<span class='no'>mtcars</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/as_tibble.html'>as_tibble</a></span>() <span class='kw'>%&gt;%</span> <span class='fu'>mutate</span>(
  <span class='kw'>mpg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>disp</span> <span class='kw'>=</span> <span class='no'>disp</span> * <span class='fl'>0.0163871</span> <span class='co'># convert to litres</span>
)</div><div class='output co'>#&gt; # A tibble: 32 x 10
#&gt;      cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1     6  2.62   110  3.9   2.62  16.5     0     1     4     4
#&gt;  2     6  2.62   110  3.9   2.88  17.0     0     1     4     4
#&gt;  3     4  1.77    93  3.85  2.32  18.6     1     1     4     1
#&gt;  4     6  4.23   110  3.08  3.22  19.4     1     0     3     1
#&gt;  5     8  5.90   175  3.15  3.44  17.0     0     0     3     2
#&gt;  6     6  3.69   105  2.76  3.46  20.2     1     0     3     1
#&gt;  7     8  5.90   245  3.21  3.57  15.8     0     0     3     4
#&gt;  8     4  2.40    62  3.69  3.19  20       1     0     4     2
#&gt;  9     4  2.31    95  3.92  3.15  22.9     1     0     4     2
#&gt; 10     6  2.75   123  3.92  3.44  18.3     1     0     4     4
#&gt; # … with 22 more rows</div><div class='input'>
<span class='co'># window functions are useful for grouped mutates</span>
<span class='no'>mtcars</span> <span class='kw'>%&gt;%</span>
 <span class='fu'><a href='group_by.html'>group_by</a></span>(<span class='no'>cyl</span>) <span class='kw'>%&gt;%</span>
 <span class='fu'>mutate</span>(<span class='kw'>rank</span> <span class='kw'>=</span> <span class='fu'><a href='ranking.html'>min_rank</a></span>(<span class='fu'><a href='desc.html'>desc</a></span>(<span class='no'>mpg</span>)))</div><div class='output co'>#&gt; # A tibble: 32 x 12
#&gt; # Groups:   cyl [3]
#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb  rank
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4     2
#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4     2
#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1     8
#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1     1
#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2     2
#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1     6
#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4    11
#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2     7
#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2     8
#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4     5
#&gt; # … with 22 more rows</div><div class='input'><span class='co'># see `vignette("window-functions")` for more details</span>

<span class='co'># mutate() vs transmute --------------------------</span>
<span class='co'># mutate() keeps all existing variables</span>
<span class='no'>mtcars</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>mutate</span>(<span class='kw'>displ_l</span> <span class='kw'>=</span> <span class='no'>disp</span> / <span class='fl'>61.0237</span>)</div><div class='output co'>#&gt;                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
#&gt; Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
#&gt; Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
#&gt; Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
#&gt; Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
#&gt; Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
#&gt; Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
#&gt; Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
#&gt; Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
#&gt; Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
#&gt; Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
#&gt; Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
#&gt; Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
#&gt; Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
#&gt; Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
#&gt; Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
#&gt; Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
#&gt; Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
#&gt; Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
#&gt; Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
#&gt; Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
#&gt; Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
#&gt; Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
#&gt; AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
#&gt; Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
#&gt; Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
#&gt; Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
#&gt; Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
#&gt; Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
#&gt; Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
#&gt; Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
#&gt; Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
#&gt; Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
#&gt;                      displ_l
#&gt; Mazda RX4           2.621932
#&gt; Mazda RX4 Wag       2.621932
#&gt; Datsun 710          1.769804
#&gt; Hornet 4 Drive      4.227866
#&gt; Hornet Sportabout   5.899347
#&gt; Valiant             3.687092
#&gt; Duster 360          5.899347
#&gt; Merc 240D           2.403984
#&gt; Merc 230            2.307300
#&gt; Merc 280            2.746474
#&gt; Merc 280C           2.746474
#&gt; Merc 450SE          4.519556
#&gt; Merc 450SL          4.519556
#&gt; Merc 450SLC         4.519556
#&gt; Cadillac Fleetwood  7.734700
#&gt; Lincoln Continental 7.538055
#&gt; Chrysler Imperial   7.210313
#&gt; Fiat 128            1.289663
#&gt; Honda Civic         1.240502
#&gt; Toyota Corolla      1.165121
#&gt; Toyota Corona       1.968088
#&gt; Dodge Challenger    5.211090
#&gt; AMC Javelin         4.981671
#&gt; Camaro Z28          5.735477
#&gt; Pontiac Firebird    6.554830
#&gt; Fiat X1-9           1.294579
#&gt; Porsche 914-2       1.971365
#&gt; Lotus Europa        1.558411
#&gt; Ford Pantera L      5.751864
#&gt; Ferrari Dino        2.376126
#&gt; Maserati Bora       4.932510
#&gt; Volvo 142E          1.982836</div><div class='input'>
<span class='co'># transmute keeps only the variables you create</span>
<span class='no'>mtcars</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>transmute</span>(<span class='kw'>displ_l</span> <span class='kw'>=</span> <span class='no'>disp</span> / <span class='fl'>61.0237</span>)</div><div class='output co'>#&gt;                      displ_l
#&gt; Mazda RX4           2.621932
#&gt; Mazda RX4 Wag       2.621932
#&gt; Datsun 710          1.769804
#&gt; Hornet 4 Drive      4.227866
#&gt; Hornet Sportabout   5.899347
#&gt; Valiant             3.687092
#&gt; Duster 360          5.899347
#&gt; Merc 240D           2.403984
#&gt; Merc 230            2.307300
#&gt; Merc 280            2.746474
#&gt; Merc 280C           2.746474
#&gt; Merc 450SE          4.519556
#&gt; Merc 450SL          4.519556
#&gt; Merc 450SLC         4.519556
#&gt; Cadillac Fleetwood  7.734700
#&gt; Lincoln Continental 7.538055
#&gt; Chrysler Imperial   7.210313
#&gt; Fiat 128            1.289663
#&gt; Honda Civic         1.240502
#&gt; Toyota Corolla      1.165121
#&gt; Toyota Corona       1.968088
#&gt; Dodge Challenger    5.211090
#&gt; AMC Javelin         4.981671
#&gt; Camaro Z28          5.735477
#&gt; Pontiac Firebird    6.554830
#&gt; Fiat X1-9           1.294579
#&gt; Porsche 914-2       1.971365
#&gt; Lotus Europa        1.558411
#&gt; Ford Pantera L      5.751864
#&gt; Ferrari Dino        2.376126
#&gt; Maserati Bora       4.932510
#&gt; Volvo 142E          1.982836</div><div class='input'>
<span class='co'># Grouping ----------------------------------------</span>
<span class='co'># The mutate operation may yield different results on grouped</span>
<span class='co'># tibbles because the expressions are computed within groups.</span>
<span class='co'># The following normalises `mass` by the global average:</span>
<span class='no'>starwars</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>mutate</span>(<span class='no'>mass</span> / <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='no'>mass</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='pull.html'>pull</a></span>()</div><div class='output co'>#&gt;  [1]  0.7912704  0.7707179  0.3288397  1.3975685  0.5035357  1.2331487
#&gt;  [7]  0.7707179  0.3288397  0.8632041  0.7912704  0.8632041         NA
#&gt; [13]  1.1509388  0.8220991  0.7604417 13.9551329  0.7912704  1.1303863
#&gt; [19]  0.1746961  0.7707179  0.8036019  1.4386735  1.1612150  0.8118229
#&gt; [25]  0.8118229  0.8529279         NA         NA  0.2055248  0.6987843
#&gt; [31]  0.9145853  0.9248615         NA  0.6782318  0.8426516         NA
#&gt; [37]         NA         NA  0.4110496         NA         NA  0.8220991
#&gt; [43]         NA  0.5651932  0.4624308         NA  0.6679556  0.8632041
#&gt; [49]  0.8426516  0.8940328         NA  0.5138120         NA         NA
#&gt; [55]  0.8220991         NA  0.8734803         NA         NA  0.8220991
#&gt; [61]  0.5775246  0.5138120         NA  0.8220991         NA  0.8118229
#&gt; [67]  0.5651932  1.0481764  0.9043091         NA         NA  0.1541436
#&gt; [73]         NA  0.4932595         NA  0.5857456  1.6339220  1.3975685
#&gt; [79]  0.8118229  0.4932595  0.8220991         NA         NA         NA
#&gt; [85]         NA         NA  0.4624308</div><div class='input'>
<span class='co'># Whereas this normalises `mass` by the averages within gender</span>
<span class='co'># levels:</span>
<span class='no'>starwars</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='group_by.html'>group_by</a></span>(<span class='no'>gender</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>mutate</span>(<span class='no'>mass</span> / <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span>(<span class='no'>mass</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='pull.html'>pull</a></span>()</div><div class='output co'>#&gt;  [1]  0.7254095  0.7065677  0.3014689  1.2812428  0.8959772  1.1305083
#&gt;  [7]  1.3713937  0.3014689  0.7913558  0.7254095  0.7913558         NA
#&gt; [13]  1.0551411  0.7536722  0.6971468 12.7935861  0.7254095  1.0362993
#&gt; [19]  0.1601553  0.7065677  0.7367146  1.3189264  1.0645620  0.7442513
#&gt; [25]  0.7442513  0.7819349         NA         NA  0.1884181  0.6406214
#&gt; [31]  0.8384604  0.8478813         NA  0.6217796  0.7725140         NA
#&gt; [37]         NA         NA  0.3768361         NA         NA  0.7536722
#&gt; [43]         NA  1.0056887  0.4239406         NA  0.6123587  0.7913558
#&gt; [49]  0.7725140  0.8196185         NA  0.9142625         NA         NA
#&gt; [55]  0.7536722         NA  0.8007767         NA         NA  0.7536722
#&gt; [61]  1.0276310  0.9142625         NA  0.7536722         NA  0.7442513
#&gt; [67]  1.0056887  0.9609321  0.8290395         NA         NA  0.1413135
#&gt; [73]         NA  0.4522033         NA  1.0422592  1.4979236  1.2812428
#&gt; [79]  0.7442513  1.0000000  0.7536722         NA         NA         NA
#&gt; [85]         NA         NA  0.8228362</div><div class='input'>
<span class='co'># Indirection ----------------------------------------</span>
<span class='co'># Refer to column names stored as strings with the `.data` pronoun:</span>
<span class='no'>vars</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"mass"</span>, <span class='st'>"height"</span>)
<span class='fu'>mutate</span>(<span class='no'>starwars</span>, <span class='kw'>prod</span> <span class='kw'>=</span> <span class='no'>.data</span><span class='kw'>[[</span><span class='no'>vars</span><span class='kw'>[[</span><span class='fl'>1</span>]]]] * <span class='no'>.data</span><span class='kw'>[[</span><span class='no'>vars</span><span class='kw'>[[</span><span class='fl'>2</span>]]]])</div><div class='output co'>#&gt; # A tibble: 87 x 15
#&gt;    name  height  mass hair_color skin_color eye_color birth_year sex   gender
#&gt;    &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
#&gt;  1 Luke…    172    77 blond      fair       blue            19   male  mascu…
#&gt;  2 C-3PO    167    75 &lt;NA&gt;       gold       yellow         112   none  mascu…
#&gt;  3 R2-D2     96    32 &lt;NA&gt;       white, bl… red             33   none  mascu…
#&gt;  4 Dart…    202   136 none       white      yellow          41.9 male  mascu…
#&gt;  5 Leia…    150    49 brown      light      brown           19   fema… femin…
#&gt;  6 Owen…    178   120 brown, gr… light      blue            52   male  mascu…
#&gt;  7 Beru…    165    75 brown      light      blue            47   fema… femin…
#&gt;  8 R5-D4     97    32 &lt;NA&gt;       white, red red             NA   none  mascu…
#&gt;  9 Bigg…    183    84 black      light      brown           24   male  mascu…
#&gt; 10 Obi-…    182    77 auburn, w… fair       blue-gray       57   male  mascu…
#&gt; # … with 77 more rows, and 6 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;,
#&gt; #   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;, prod &lt;dbl&gt;</div><div class='input'># Learn more in ?dplyr_tidy_eval
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#useful-mutate-functions">Useful mutate functions</a></li>
      <li><a href="#grouped-tibbles">Grouped tibbles</a></li>
      <li><a href="#scoped-mutation-and-transmutation">Scoped mutation and transmutation</a></li>
      <li><a href="#methods">Methods</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>dplyr is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href='http://hadley.nz'>Hadley Wickham</a>, Romain François, Lionel Henry, <a href='http://krlmlr.info'>Kirill Müller</a>, <a href='https://www.rstudio.com'><img src='https://www.tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '1270c4079b26a138795263974bbf302d',
    indexName: 'tidyverse',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


