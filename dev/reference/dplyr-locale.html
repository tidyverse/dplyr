<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Locale used by arrange() — dplyr-locale • dplyr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Locale used by arrange() — dplyr-locale"><meta name="description" content='This page documents details about the locale used by arrange() when
ordering character vectors.
Default locale


The default locale used by arrange() is the C locale. This is used when
.locale = NULL unless the dplyr.legacy_locale global option is set to
TRUE. You can also force the C locale to be used unconditionally with
.locale = "C".
The C locale is not exactly the same as English locales, such as "en". The
main difference is that the C locale groups the English alphabet by case,
while most English locales group the alphabet by letter. For example,
c("a", "b", "C", "B", "c") will sort as c("B", "C", "a", "b", "c") in the
C locale, with all uppercase letters coming before lowercase letters, but
will sort as c("a", "b", "B", "c", "C") in an English locale. This often
makes little practical difference during data analysis, because both return
identical results when case is consistent between observations.



Reproducibility


The C locale has the benefit of being completely reproducible across all
supported R versions and operating systems with no extra effort.
If you set .locale to an option from stringi::stri_locale_list(), then
stringi must be installed by anyone who wants to run your code. If you
utilize this in a package, then stringi should be placed in Imports.



Legacy behavior


Prior to dplyr 1.1.0, character columns were ordered in the system locale. If
you need to temporarily revert to this behavior, you can set the global
option dplyr.legacy_locale to TRUE, but this should be used sparingly and
you should expect this option to be removed in a future version of dplyr. It
is better to update existing code to explicitly use .locale instead. Note
that setting dplyr.legacy_locale will also force calls to group_by() to
use the system locale when internally ordering the groups.
Setting .locale will override any usage of dplyr.legacy_locale.

'><meta property="og:description" content='This page documents details about the locale used by arrange() when
ordering character vectors.
Default locale


The default locale used by arrange() is the C locale. This is used when
.locale = NULL unless the dplyr.legacy_locale global option is set to
TRUE. You can also force the C locale to be used unconditionally with
.locale = "C".
The C locale is not exactly the same as English locales, such as "en". The
main difference is that the C locale groups the English alphabet by case,
while most English locales group the alphabet by letter. For example,
c("a", "b", "C", "B", "c") will sort as c("B", "C", "a", "b", "c") in the
C locale, with all uppercase letters coming before lowercase letters, but
will sort as c("a", "b", "B", "c", "C") in an English locale. This often
makes little practical difference during data analysis, because both return
identical results when case is consistent between observations.



Reproducibility


The C locale has the benefit of being completely reproducible across all
supported R versions and operating systems with no extra effort.
If you set .locale to an option from stringi::stri_locale_list(), then
stringi must be installed by anyone who wants to run your code. If you
utilize this in a package, then stringi should be placed in Imports.



Legacy behavior


Prior to dplyr 1.1.0, character columns were ordered in the system locale. If
you need to temporarily revert to this behavior, you can set the global
option dplyr.legacy_locale to TRUE, but this should be used sparingly and
you should expect this option to be removed in a future version of dplyr. It
is better to update existing code to explicitly use .locale instead. Note
that setting dplyr.legacy_locale will also force calls to group_by() to
use the system locale when internally ordering the groups.
Setting .locale will override any usage of dplyr.legacy_locale.

'><meta property="og:image" content="https://dplyr.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="dplyr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dplyr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.1.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/dplyr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/grouping.html">Grouped data</a></li>
    <li><a class="dropdown-item" href="../articles/two-table.html">Two-table verbs</a></li>
    <li><a class="dropdown-item" href="../articles/base.html">dplyr &lt;-&gt; base R</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Automation</h6></li>
    <li><a class="dropdown-item" href="../articles/colwise.html">Column-wise operations</a></li>
    <li><a class="dropdown-item" href="../articles/rowwise.html">Row-wise operations</a></li>
    <li><a class="dropdown-item" href="../articles/programming.html">Programming with dplyr</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/tags/dplyr-1-1-0/">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/06/dplyr-1-0-0/">Version 1.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/07/dplyr-0-8-3/">Version 0.8.3</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/06/dplyr-0-8-2/">Version 0.8.2</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/05/dplyr-0-8-1/">Version 0.8.1</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/02/dplyr-0-8-0/">Version 0.8.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/06/dplyr-0.7.5/">Version 0.7.5</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/dplyr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Locale used by <code>arrange()</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/dplyr/blob/main/R/locale.R" class="external-link"><code>R/locale.R</code></a></small>
      <div class="d-none name"><code>dplyr-locale.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This page documents details about the locale used by <code><a href="arrange.html">arrange()</a></code> when
ordering character vectors.</p><div class="section">
<h3 id="default-locale">Default locale<a class="anchor" aria-label="anchor" href="#default-locale"></a></h3>


<p>The default locale used by <code><a href="arrange.html">arrange()</a></code> is the C locale. This is used when
<code>.locale = NULL</code> unless the <code>dplyr.legacy_locale</code> global option is set to
<code>TRUE</code>. You can also force the C locale to be used unconditionally with
<code>.locale = "C"</code>.</p>
<p>The C locale is not exactly the same as English locales, such as <code>"en"</code>. The
main difference is that the C locale groups the English alphabet by <em>case</em>,
while most English locales group the alphabet by <em>letter</em>. For example,
<code>c("a", "b", "C", "B", "c")</code> will sort as <code>c("B", "C", "a", "b", "c")</code> in the
C locale, with all uppercase letters coming before lowercase letters, but
will sort as <code>c("a", "b", "B", "c", "C")</code> in an English locale. This often
makes little practical difference during data analysis, because both return
identical results when case is consistent between observations.</p>
</div>

<div class="section">
<h3 id="reproducibility">Reproducibility<a class="anchor" aria-label="anchor" href="#reproducibility"></a></h3>


<p>The C locale has the benefit of being completely reproducible across all
supported R versions and operating systems with no extra effort.</p>
<p>If you set <code>.locale</code> to an option from <code><a href="https://rdrr.io/pkg/stringi/man/stri_locale_list.html" class="external-link">stringi::stri_locale_list()</a></code>, then
stringi must be installed by anyone who wants to run your code. If you
utilize this in a package, then stringi should be placed in <code>Imports</code>.</p>
</div>

<div class="section">
<h3 id="legacy-behavior">Legacy behavior<a class="anchor" aria-label="anchor" href="#legacy-behavior"></a></h3>


<p>Prior to dplyr 1.1.0, character columns were ordered in the system locale. If
you need to temporarily revert to this behavior, you can set the global
option <code>dplyr.legacy_locale</code> to <code>TRUE</code>, but this should be used sparingly and
you should expect this option to be removed in a future version of dplyr. It
is better to update existing code to explicitly use <code>.locale</code> instead. Note
that setting <code>dplyr.legacy_locale</code> will also force calls to <code><a href="group_by.html">group_by()</a></code> to
use the system locale when internally ordering the groups.</p>
<p>Setting <code>.locale</code> will override any usage of <code>dplyr.legacy_locale</code>.</p>
</div>

    </div>



    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"C"</span>, <span class="st">"B"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5 × 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> a    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> b    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> C    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> B    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> c    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Default locale is C, which groups the English alphabet by case, placing</span></span></span>
<span class="r-in"><span><span class="co"># uppercase letters before lowercase letters.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="arrange.html">arrange</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5 × 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> B    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> C    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> a    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> b    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> c    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The American English locale groups the alphabet by letter.</span></span></span>
<span class="r-in"><span><span class="co"># Explicitly override `.locale` with `"en"` for this ordering.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="arrange.html">arrange</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">x</span>, .locale <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5 × 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> a    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> b    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> B    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> c    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> C    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This Danish letter is expected to sort after `z`</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"o"</span>, <span class="st">"p"</span>, <span class="st">"\u00F8"</span>, <span class="st">"z"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> o    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> p    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> ø    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> z    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The American English locale sorts it right after `o`</span></span></span>
<span class="r-in"><span><span class="fu"><a href="arrange.html">arrange</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">x</span>, .locale <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> o    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> ø    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> p    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> z    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using `"da"` for Danish ordering gives the expected result</span></span></span>
<span class="r-in"><span><span class="fu"><a href="arrange.html">arrange</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">x</span>, .locale <span class="op">=</span> <span class="st">"da"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> o    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> p    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> z    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> ø    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If you need the legacy behavior of `arrange()`, which respected the</span></span></span>
<span class="r-in"><span><span class="co"># system locale, then you can set the global option `dplyr.legacy_locale`,</span></span></span>
<span class="r-in"><span><span class="co"># but expect this to be removed in the future. We recommend that you use</span></span></span>
<span class="r-in"><span><span class="co"># the `.locale` argument instead.</span></span></span>
<span class="r-in"><span><span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/local_options.html" class="external-link">with_options</a></span><span class="op">(</span>dplyr.legacy_locale <span class="op">=</span> <span class="cn">TRUE</span>, <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="arrange.html">arrange</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 1</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> o    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> p    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> z    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> ø    </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/romainfrancois" class="external-link">Romain François</a>, <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://krlmlr.info" class="external-link">Kirill Müller</a>, <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>

